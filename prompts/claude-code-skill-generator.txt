You are acting as a senior software engineer AND prompt architect for my paid media automation project.

CONTEXT
I have a GitHub repository called `paid-media-automation`. It already contains:

/schema
- brief.txt
- tactic_library.csv
- benchmark.csv
- country_tier.csv
- media_plan.csv

/ads-production-template
- linkedin_ads_production.csv
- meta_ads_production.csv
- google_ads_production.csv

At the repo root (or within a subfolder) there are also two prompt files:
- media-strategy-prompt.txt  → this is the current mega prompt for Strategy + Media Plan
- ads-production-prompt.txt → this is the current mega prompt for Ads Production Specs

I also already have a Claude Skill called `paid-media-strategist-construct`, but I now want to UPGRADE it so that:
- All the logic in media-strategy-prompt.txt and ads-production-prompt.txt is embedded directly into Skill.md.
- Once the Skill is installed, I do NOT need to paste those prompts anymore.
- In a normal chat with this Skill, I can just say things like:
  - “Run the full workflow for the latest brief.”
  - “Generate only the media plan.”
  - “Generate only the ads specs based on the latest approved media plan.”
And Claude should know exactly what to do, because the workflows are defined inside the Skill.

GOAL
Your job is to:
1) Inspect the repo and the two prompt files.
2) Design a NEW, clean Skill.md that:
   - Keeps the existing identity of `paid-media-strategist-construct`.
   - Integrates the logic from media-strategy-prompt.txt (Strategy + Media Plan).
   - Integrates the logic from ads-production-prompt.txt (Ads Specs).
   - Defines explicit workflows and usage patterns so I only give short commands in chat.
3) Output:
   - A complete Skill.md file (YAML) ready to be zipped and uploaded to Claude.
   - A short README-style usage guide explaining how my team should talk to this Skill.

IMPORTANT PRINCIPLES
- Do NOT copy the prompt files blindly; instead, refactor and compress them into:
  - identity / style
  - data sources (brief, tactics, benchmarks, media_plan, ads templates)
  - clearly named workflows (Strategy, Media Plan, Ads Production)
  - revision logic (“revise strategy”, “revise media plan”, “revise ads specs”)
- The Skill instructions should be GENERAL, not hard-coded to NUS or any specific client.
- The Skill must assume that:
  - brief.txt always contains the current campaign brief.
  - All CSVs are up to date.
  - media-strategy-prompt.txt and ads-production-prompt.txt are now SOURCES for the Skill design, not something the user will paste in the future.

WORKFLOW BEHAVIOUR INSIDE THE SKILL
Design the Skill so that it responds to these patterns:

1) “Run full workflow”
   - Reads brief.txt + all schema files.
   - Generates:
     - Strategy (campaign overview, audience, channel mix, funnel, messaging, campaign flow)
     - Media Plan (table matching media_plan.csv structure).
   - Optionally, if the user says “include ad specs” → also run Ads Production.

2) “Strategy only”
   - Only run the strategy workflow using brief.txt + tactic_library.csv.
   - Do not generate media plan or ads specs.

3) “Media plan only”
   - Assume the latest Strategy has already been produced in this chat.
   - Use the Campaign Flow + all schema files to generate ONLY the media plan table.

4) “Ads specs only”
   - Assume the latest media plan table was already produced in this chat.
   - Use ads-production-template CSVs to generate the ads specs.

5) Revision logic
   - “Revise the strategy” → regenerate Strategy and then regenerate Media Plan (and ads specs if previously requested).
   - “Revise the media plan” → keep current Strategy; recalculate Media Plan only.
   - “Revise the ads specs” → keep Strategy + Media Plan; regenerate ads specs only.

TASK PHASES
Please work in clear phases:

Phase 1 – Repo + prompt inspection
- Locate:
  - media-strategy-prompt.txt
  - ads-production-prompt.txt
  - current Skill (if present)
- Summarise the key logic and sections in both prompt files.
- Summarise how they map to:
  - Strategy workflow
  - Media Plan workflow
  - Ads Production workflow

Phase 2 – Skill.md design
- Propose the top-level structure of the new Skill.md:
  - name, description
  - high-level identity / style rules
  - data sources section (brief.txt, tactic_library.csv, benchmark.csv, country_tier.csv, media_plan.csv, ads-production templates)
  - “Core Workflows” section that encodes:
    - Strategy Output
    - Media Plan Output
    - Ads Production Output
    - Revision behaviour
- Wait for my approval before writing the final Skill.md.

Phase 3 – Implement Skill.md
- Write the FULL YAML Skill.md, incorporating:
  - The existing `paid-media-strategist-construct` role definition
  - Refactored logic from media-strategy-prompt.txt
  - Refactored logic from ads-production-prompt.txt
- Make sure indentation and YAML formatting are valid.

Phase 4 – Usage Guide
- Provide a short usage guide text that I can paste into README.md explaining:
  - What the Skill does
  - What files it relies on
  - Example commands:
    - “Run full workflow”
    - “Strategy only for this brief”
    - “Generate only media plan”
    - “Generate ads specs only”

----------------------------------------------------------------------------------
NEXT TASK: Add an Estimator workflow into the existing paid-media skill.

Important:

Do NOT modify or overwrite any part of the current strategist identity, strategy workflow, media plan workflow, or ads production workflow.
Extend the existing skill by integrating a new “Estimator Workflow”.
Assume all previous context from this chat remains active.
DATA SOURCE (NEW)
The estimator uses a new pricing file:

/schema/ratecard.csv

This contains the authoritative unit cost for every deliverable.
Do NOT create or guess any pricing.
If a pricing row cannot be matched → ask the user which item to use.

Before modifying the skill:

Verify that /schema/ratecard.csv exists.
If missing, notify me and propose a minimal expected structure (e.g., item_name, item_code, unit_cost, unit_type).
ESTIMATOR WORKFLOW — REQUIREMENTS
You must add a new workflow (“Workflow 3 — Estimator”) to the skill.
It will generate a complete campaign quotation AFTER the Strategy → Media Plan → Ads Specs are produced.

This workflow must:

=========================================

CLASSIFY CAMPAIGN (ESSENTIAL vs CUSTOM)
=========================================
Before any calculation:

Analyse the Strategy + Media Plan + Ads Specs to infer a recommended classification:

Essential
Custom
ALWAYS ask the user to confirm:

“Based on the campaign scope, I recommend classifying this campaign as Essential/Custom. Would you like to keep this classification or change it?”

Wait for user confirmation.

Use the final choice.

Display this classification at the top of the estimator output.

Classification heuristics:

Essential:
• Single programme
• Standard 3-stage funnel
• < 10 total assets
• No LP / no downloadable creation
• One segment
• Limited platforms
Custom:
• Multiple programmes or funnels
• ≥ 10 assets
• Landing page or downloadable asset required
• Complex nurturing
• Multi-market or localisation needed
=========================================
2) IDENTIFY REQUIRED ITEMS
Estimator must include three categories:

A. FIXED ITEMS (fixed cost, units = 1)

Strategy & Planning
Campaign Setup
B. FIXED ITEMS, VARIABLE UNITS

Campaign Management
• Unit cost from ratecard.csv
• Units = campaign duration in months (from brief; if unclear, ask user)
Ad Assets
• Unit cost per asset from ratecard.csv
• Units = number of assets from Ads Specs; if Ads Specs are not generated, infer from Campaign Flow and note that it is an approximation
Emails
• Unit cost per email from ratecard.csv
• Units = number of nurture emails determined by the strategy/ads specs
C. OPTIONAL ITEMS (include only if user confirms)

Landing Page
Downloadable Resource / PDF
Extra creative variants
Additional nurture flows
Any item listed in ratecard.csv that is not mandatory
Behaviour:

Infer which optional items might be relevant.
Ask the user for confirmation BEFORE inserting into the estimator.
=========================================
3) PRICING LOOKUP LOGIC
For each item in the estimator:

Find its corresponding row in /schema/ratecard.csv by exact or close match of item_name/item_code.
Unit Cost = value from ratecard.csv
Units = derived value
Total = Unit Cost × Units
If no match → ask user which row to use.

=========================================
4) MEDIA BUDGET INTEGRATION
Pull the total media spend from the Media Plan output and include it as its own line:

“Media Budget – Ad platforms budget (third-party cost)”
Investment = value from Media Plan

=========================================
5) OUTPUT FORMAT (STRICT)
The estimator output must be a quotation table with 3 columns:

Item | Description | Investment

It must follow this structure:

Planning
Description: “Campaign Strategy & Plan x1 – Channels rationale, media tactics, campaign flow, media plan”
Investment: $X

Setup
Description: “Campaign Setup x1 – Account setup, ad setup, tagging implementation”
Investment: $X

Management
Description: “Monthly Campaign Management & Reporting x[N] – Daily monitoring & weekly optimisations & email updates”
Investment: $X

Campaign Assets
• Prospecting Assets (list key ad types + counts)
• Retargeting Assets (same)
• Nurturing Assets (same)
• Optional Assets (if approved)
Investment: total for all assets

Media Budget
Description: “Ad platforms budget (third-party cost)”
Investment: [value from Media Plan]

TOTAL
Description: “TOTAL”
Investment: grand total

Rules:

Google Sheet–ready
No paragraphs or commentary
Currency formatting consistent with the brief (SGD X,XXX)
=========================================
6) COMMAND INTERFACE ADDITIONS
Add the following triggers:

“Generate estimator”
“Generate quotation”
“Estimator only”
Define behaviour:

If Strategy or Media Plan missing → ask user to run those workflows.
If Ads Specs missing → infer asset counts and notify the user that counts are approximated.
=========================================
7) REVISION LOGIC
Add new revision behaviour:

Command: “Revise estimator”
Action: Re-run ONLY the Estimator workflow, using:

The latest Strategy
The latest Media Plan
The latest Ads Specs (if present)
Updated classification
Updated optional item inclusions
Updated campaign duration (if changed)
=========================================
FINAL TASK FOR YOU (CLAUDE CODE)
Modify the existing skill file /skills/paid-media-strategist-construct.md by:

Adding a new section called “Workflow 3 — Estimator”.

Documenting:

Required inputs
Item categorisation logic
Essential vs Custom confirmation behaviour
Pricing lookup rules
Calculation rules
Output format requirements
Supported commands
Revision behaviour
Extending the Command Interface and Revision Behaviours sections to include estimator-related commands.

Returning the updated FULL content of the skill file.

Do not delete, rewrite, or alter any existing workflows.
Only extend them cleanly with this new Estimator workflow

Now start with Phase 1: inspect the repo and both prompt files, summarise what you find, and propose a Skill.md structure before writing any YAML.
